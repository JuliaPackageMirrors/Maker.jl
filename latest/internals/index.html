<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Core - Maker.jl</title>
      
      
      
      
        <meta name="author" content="Tom Short">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Maker.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="Maker.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../None">
    <link rel="icon" type="image/x-icon" href="../None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-0dac3e5884.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../assets/Documenter.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-blue-grey palette-accent-indigo">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Documentation <i class="icon icon-link"></i>
              
            
          </span>
        
        Core
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/tshort" title="@tshort on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <!-- Navigation -->
<nav aria-label="Navigation">
  

  <!-- Project information -->
  <a href="https://github.com/tshort/Maker.jl" class="project">

    <!-- Name and logo -->
    <div class="banner">

      <!-- Version -->
      

      <!-- Project name and verison -->
      <div class="name">
        <strong>
          Maker.jl
          <span class="version">
            v0.3.1dev
          </span>
        </strong>

        <!-- Project repository name -->
        
          <br />
          tshort/Maker.jl
        
      </div>
    </div>
  </a>

  <!-- Repository and table of contents -->
  <div class="scrollable">
    <div class="wrapper">

      <!-- Repository -->
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/tshort/Maker.jl" target="_blank"
              title="GitHub" data-action="GitHub">
              <i class="icon icon-github"></i> GitHub
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/tshort/Maker.jl/stargazers" target="_blank"
              title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr />
      

      <!-- Table of contents -->
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Maker" href="..">
      Maker
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Example" href="../introduction/">
      Example
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="API" href="../api/">
      API
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="make" href="../make/">
      make
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Targets" href="../targets/">
      Targets
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Utilities" href="../utilities/">
      Utilities
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Core" href="./">
      Core
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Internals" href="#internals">
                Internals
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Terminology" href="../terminology/">
      Terminology
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">About</span>
    <ul>
      
        
  <li>
    <a class="" title="Release notes" href="../NEWS/">
      Release notes
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="License" href="../LICENSE/">
      License
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>

        <!-- Author-related links -->
        
          <hr />
          <span class="section">The author</span>
          <ul>

            <!-- Twitter -->
            

            <!-- GitHub -->
            
              
              <li>
                <a href="https://github.com/tshort" target="_blank"
                  title="@tshort on GitHub">
                  @tshort on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <p><a id='Core-methods-1'></a></p>
<h1 id="core-methods">Core methods</h1>
<p>The following methods are used internally but may be used externally, too. None are exported.</p>
<ul>
<li><a href="./#Maker.TARGETS"><code>Maker.TARGETS</code></a></li>
<li><a href="./#Maker.dependencies"><code>Maker.dependencies</code></a></li>
<li><a href="./#Maker.execute"><code>Maker.execute</code></a></li>
<li><a href="./#Maker.fixcache"><code>Maker.fixcache</code></a></li>
<li><a href="./#Maker.isstale"><code>Maker.isstale</code></a></li>
<li><a href="./#Maker.register"><code>Maker.register</code></a></li>
<li><a href="./#Maker.resolve"><code>Maker.resolve</code></a></li>
<li><a href="./#Maker.resolvedependency"><code>Maker.resolvedependency</code></a></li>
<li><a href="./#Maker.tasks!"><code>Maker.tasks!</code></a></li>
<li><a href="./#Maker.timestamp"><code>Maker.timestamp</code></a>
<a id='Maker.dependencies' href='#Maker.dependencies'>#</a>
<strong><code>Maker.dependencies</code></strong> &mdash; <em>Function</em>.</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">dependencies</span><span class="p">(</span><span class="n">t</span><span class="p">::</span><span class="n">AbstractTarget</span><span class="p">)</span>
</pre></div>


<p>Return the dependencies of a target.</p>
<p><a id='Maker.execute' href='#Maker.execute'>#</a>
<strong><code>Maker.execute</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">execute</span><span class="p">(</span><span class="n">t</span><span class="p">::</span><span class="n">AbstractTarget</span><span class="p">)</span>
</pre></div>


<p>Run the action for target <code>t</code>.</p>
<p><a id='Maker.fixcache' href='#Maker.fixcache'>#</a>
<strong><code>Maker.fixcache</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">fixcache</span><span class="p">()</span>
</pre></div>


<p>Update the <code>.maker-cache.jld</code> file with the present version information for the cache version number and the Julia version. This may be needed if the file format changes or the Julia version upgrades. Note that this may not solve all issues. </p>
<p><a id='Maker.isstale' href='#Maker.isstale'>#</a>
<strong><code>Maker.isstale</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">isstale</span><span class="p">(</span><span class="n">t</span><span class="p">::</span><span class="n">AbstractTarget</span><span class="p">)</span>
</pre></div>


<p>Return <code>true</code> if target <code>t</code> is stale and should be updated.</p>
<p><a id='Maker.register' href='#Maker.register'>#</a>
<strong><code>Maker.register</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">register</span><span class="p">(</span><span class="n">t</span><span class="p">::</span><span class="n">AbstractTarget</span><span class="p">)</span>
</pre></div>


<p>Register target <code>t</code>. <code>make</code> only looks for registered targets.</p>
<p><a id='Maker.resolve' href='#Maker.resolve'>#</a>
<strong><code>Maker.resolve</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">resolve</span><span class="p">(</span><span class="n">s</span><span class="p">::</span><span class="n">AbstractString</span><span class="p">)</span>
</pre></div>


<p>Return the target registered under name <code>s</code>.</p>
<p><a id='Maker.resolvedependency' href='#Maker.resolvedependency'>#</a>
<strong><code>Maker.resolvedependency</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">resolvedependency</span><span class="p">(</span><span class="n">s</span><span class="p">::</span><span class="n">AbstractString</span><span class="p">)</span>
</pre></div>


<p>Return the target registered under name <code>s</code>. If no target is registered and a file of name <code>s</code> exists, return a new <code>FileTarget</code> for that file.</p>
<p><a id='Maker.tasks!' href='#Maker.tasks!'>#</a>
<strong><code>Maker.tasks!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">tasks!</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</pre></div>


<p>Add the <code>target</code> task with name <code>name</code> to the global database of targets.</p>
<p><a id='Maker.timestamp' href='#Maker.timestamp'>#</a>
<strong><code>Maker.timestamp</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">timestamp</span><span class="p">(</span><span class="n">t</span><span class="p">::</span><span class="n">AbstractTarget</span><span class="p">)</span>
</pre></div>


<p>Return the DateTime timestamp for a target.</p>
<p><a id='Maker.TARGETS' href='#Maker.TARGETS'>#</a>
<strong><code>Maker.TARGETS</code></strong> &mdash; <em>Constant</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">Maker</span><span class="o">.</span><span class="n">TARGETS</span>
</pre></div>


<p>The global <code>Targets</code> dictionary for registered AbstractTargets.</p>
<p><a id='Internals-1'></a></p>
<h2 id="internals">Internals</h2>
<p><code>Maker</code> uses the global Dict <code>Maker.TARGETS</code> to store active tasks. Some state is also stored in a <a href="https://github.com/JuliaLang/JLD.jl">JLD</a> file ".maker-cache.jld" in the active directory. This stores hashes for functions and variables along with timestamps. This allows <code>Maker</code> to be used between sessions.</p>
<p>Note that tasks are defined globally, so they may be defined in modules or in the <code>Main</code> module. <code>make</code> works fine in a module for tasks defined in that module. You cannot run all actions in <code>Main</code> that are defined in another module (particularly for variable tasks).</p>
<p>The hashing for functions and variables is not likely to stay the same between Julia versions. It's also different for 32- and 64-bit versions. It's still up in the air how to deal with this. Also, hashing for v0.4 anonymous functions has file information removed.</p>
<p>Timestamps are stored for all tasks, even file tasks. On some filesystems, <code>mtime</code> only has an accuracy of one second, and this can cause inaccuracies with variable timestamps.</p>
<p>Note that parallel operation may be tricky. One may have to be careful using <code>@everywhere</code> and friends with <code>Maker</code>. Each process might try to update dependencies at the same time, leading to race conditions. Another topic to think about is how to take advantage of parallel operations (or threads when they come to Julia).</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../utilities/" title="Utilities">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Utilities
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../terminology/" title="Terminology">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Terminology
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'tshort/Maker.jl';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
      <script src="../assets/mathjaxhelper.js"></script>
    
    
  </body>
</html>